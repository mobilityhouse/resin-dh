
# HG changeset patch
# User Matt Johnston <matt@ucc.asn.au>
# Date 1468245085 -28800
# Node ID 6a14b1f6dc04e70933c49ea335184e68c1deeb94
# Parent  309e1c4a87682b6ca7d80b8555a1db416c3cb7ac
better TRACE of failed remote ident

CVE: CVE-2016-7409
Upstream-Status: Backport [backported from:
https://secure.ucc.asn.au/hg/dropbear/raw-rev/6a14b1f6dc04]

Signed-off-by: Sona Sarmadi <sona.sarmadi@enea.com>

diff -r 309e1c4a8768 -r 6a14b1f6dc04 common-session.c
--- a/common-session.c	Fri Mar 18 22:44:36 2016 +0800
+++ b/common-session.c	Mon Jul 11 21:51:25 2016 +0800
@@ -361,7 +361,7 @@
 	}
 
 	if (!done) {
-		TRACE(("err: %s for '%s'\n", strerror(errno), linebuf))
+		TRACE(("error reading remote ident: %s\n", strerror(errno)))
 		ses.remoteclosed();
 	} else {
 		/* linebuf is already null terminated */

